<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Diagn√≥stico Digital - An√°lisis Ejecutivo</title>
    <link rel="stylesheet" href="styles2.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <!-- M√≥dulos de datos -->
    <script src="columnas.js"></script>
    <script src="encuesta_opciones.js"></script>
    <script src="data-engine.js"></script>
    <script src="visualization-helpers.js"></script>
  </head>
  <body>
    <!-- Canvas de part√≠culas -->
    <canvas id="particles-canvas"></canvas>

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo-section">
        <img src="aetherix-logo.png" alt="Aetherix" class="logo-img" />
      </div>

      <nav class="nav-menu">
        <a href="#" class="nav-item active" data-tab="panorama">
          <span class="nav-icon">üìä</span>
          <span class="nav-text">Panorama General</span>
        </a>
        <a href="#" class="nav-item" data-tab="operacion">
          <span class="nav-icon">‚öôÔ∏è</span>
          <span class="nav-text">Operaci√≥n y Dolor</span>
        </a>
        <a href="#" class="nav-item" data-tab="tecnologia">
          <span class="nav-icon">üöÄ</span>
          <span class="nav-text">Tecnolog√≠a y Adopci√≥n</span>
        </a>
        <a href="#" class="nav-item" data-tab="decisiones">
          <span class="nav-icon">üí°</span>
          <span class="nav-text">Decisiones y Datos</span>
        </a>
        <a href="#" class="nav-item" data-tab="oportunidades">
          <span class="nav-icon">üéØ</span>
          <span class="nav-text">Oportunidades</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <div class="data-status">
          <div class="status-indicator"></div>
          <span class="status-text" id="total-businesses">Cargando...</span>
        </div>
      </div>
    </aside>

    <!-- Contenido Principal -->
    <main class="main-content">
      <!-- Header -->
      <header class="dashboard-header">
        <div class="header-left">
          <h1 class="dashboard-title">Diagn√≥stico Digital Parras</h1>
          <p class="dashboard-subtitle">
            An√°lisis de Madurez Digital y Oportunidades Tecnol√≥gicas
          </p>
        </div>
        <div class="header-right">
          <div class="filters-compact">
            <select id="filter-type" class="filter-select">
              <option value="all">Todas las industrias</option>
            </select>
            <select id="filter-size" class="filter-select">
              <option value="all">Todos los tama√±os</option>
            </select>
            <button id="apply-filters" class="btn-primary">Aplicar</button>
            <button id="reset-filters" class="btn-secondary">Reset</button>
          </div>
        </div>
      </header>

      <!-- Tab 1: Panorama General -->
      <section id="tab-panorama" class="tab-content active">
        <div class="section-header">
          <h2 class="section-title">Panorama General</h2>
          <p class="section-description">
            Resumen ejecutivo de la madurez digital y preparaci√≥n tecnol√≥gica
          </p>
        </div>

        <!-- KPIs Globales -->
        <div class="kpi-grid">
          <div class="kpi-card">
            <div class="kpi-icon">üìà</div>
            <div class="kpi-content">
              <span class="kpi-label">Madurez Digital</span>
              <span class="kpi-value" id="kpi-digital-maturity">--</span>
              <span class="kpi-trend" id="kpi-digital-trend"></span>
            </div>
          </div>
          <div class="kpi-card">
            <div class="kpi-icon alert">‚ö†Ô∏è</div>
            <div class="kpi-content">
              <span class="kpi-label">Riesgo Operativo</span>
              <span class="kpi-value alert" id="kpi-operational-risk">--</span>
              <span class="kpi-trend" id="kpi-risk-trend"></span>
            </div>
          </div>
          <div class="kpi-card">
            <div class="kpi-icon success">üöÄ</div>
            <div class="kpi-content">
              <span class="kpi-label">Disposici√≥n Tech</span>
              <span class="kpi-value success" id="kpi-tech-adoption">--</span>
              <span class="kpi-trend" id="kpi-adoption-trend"></span>
            </div>
          </div>
          <div class="kpi-card">
            <div class="kpi-icon">üìä</div>
            <div class="kpi-content">
              <span class="kpi-label">Escalabilidad</span>
              <span class="kpi-value" id="kpi-scalability">--</span>
              <span class="kpi-trend" id="kpi-scalability-trend"></span>
            </div>
          </div>
        </div>

        <!-- Gr√°ficas Panorama -->
        <div class="charts-grid">
          <div class="chart-card span-2">
            <div class="chart-header">
              <h3 class="chart-title">Madurez Digital por Industria</h3>
              <p class="chart-subtitle">
                Promedio de score 0-100 por tipo de negocio
              </p>
            </div>
            <div class="chart-container">
              <canvas id="chart-maturity-by-industry"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Distribuci√≥n de Madurez</h3>
              <p class="chart-subtitle">Nivel de digitalizaci√≥n 1-5</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-maturity-distribution"></canvas>
            </div>
          </div>

          <div class="chart-card span-2">
            <div class="chart-header">
              <h3 class="chart-title">Comparativo de Scores por Tama√±o</h3>
              <p class="chart-subtitle">4 dimensiones clave</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-scores-by-size"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Herramientas Digitales</h3>
              <p class="chart-subtitle">Adopci√≥n actual</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-tools-adoption"></canvas>
            </div>
          </div>
        </div>
      </section>

      <!-- Tab 2: Operaci√≥n y Dolor -->
      <section id="tab-operacion" class="tab-content">
        <div class="section-header">
          <h2 class="section-title">Operaci√≥n y Dolor</h2>
          <p class="section-description">
            Identificaci√≥n de problemas cr√≠ticos y riesgos operativos
          </p>
        </div>

        <!-- Alertas Cr√≠ticas -->
        <div class="alert-banner">
          <span class="alert-icon">üö®</span>
          <div class="alert-content">
            <strong id="high-risk-count">0 negocios</strong> en alto riesgo
            operativo (score ‚â•70)
            <span class="alert-action">‚Üí Requieren atenci√≥n prioritaria</span>
          </div>
        </div>

        <div class="charts-grid">
          <div class="chart-card span-2">
            <div class="chart-header">
              <h3 class="chart-title">Ranking de Problemas Operativos</h3>
              <p class="chart-subtitle">Frecuencia y severidad combinadas</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-problems-ranking"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Riesgo Operativo</h3>
              <p class="chart-subtitle">Distribuci√≥n de scores</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-operational-risk"></canvas>
            </div>
          </div>

          <div class="chart-card span-2">
            <div class="chart-header">
              <h3 class="chart-title">Procesos Manuales vs Digitales</h3>
              <p class="chart-subtitle">Por tama√±o de negocio</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-processes-status"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Dependencia Tecnol√≥gica</h3>
              <p class="chart-subtitle">Riesgo de salida del responsable TI</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-tech-dependency"></canvas>
            </div>
          </div>
        </div>

        <!-- Tabla de Riesgos Cr√≠ticos -->
        <div class="table-card">
          <div class="table-header">
            <h3 class="table-title">Negocios en Alto Riesgo</h3>
            <p class="table-subtitle">Score de riesgo operativo ‚â• 70</p>
          </div>
          <div class="table-container" id="high-risk-table"></div>
        </div>
      </section>

      <!-- Tab 3: Tecnolog√≠a y Adopci√≥n -->
      <section id="tab-tecnologia" class="tab-content">
        <div class="section-header">
          <h2 class="section-title">Tecnolog√≠a y Adopci√≥n</h2>
          <p class="section-description">
            Capacidad y disposici√≥n para adoptar soluciones tecnol√≥gicas
          </p>
        </div>

        <!-- Stats R√°pidos -->
        <div class="stats-row">
          <div class="stat-box">
            <span class="stat-number" id="stat-tech-ready">--</span>
            <span class="stat-label">Listos para Tech</span>
            <span class="stat-detail">Adoption ‚â•60</span>
          </div>
          <div class="stat-box">
            <span class="stat-number" id="stat-barriers">--</span>
            <span class="stat-label">Barrera Principal</span>
            <span class="stat-detail">M√°s reportada</span>
          </div>
          <div class="stat-box">
            <span class="stat-number" id="stat-google-ready">--</span>
            <span class="stat-label">Preparados Google/IA</span>
            <span class="stat-detail">Score ‚â• Algo preparados</span>
          </div>
        </div>

        <div class="charts-grid">
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Apertura Tecnol√≥gica</h3>
              <p class="chart-subtitle">Disposici√≥n a probar herramientas</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-tech-openness"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Barreras Principales</h3>
              <p class="chart-subtitle">Top obst√°culos reportados</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-tech-barriers"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Capacidad de Aprendizaje</h3>
              <p class="chart-subtitle">Equipo y personal</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-learning-capacity"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Preparaci√≥n Google/ChatGPT</h3>
              <p class="chart-subtitle">Visibilidad en b√∫squedas IA</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-google-readiness"></canvas>
            </div>
          </div>

          <div class="chart-card span-2">
            <div class="chart-header">
              <h3 class="chart-title">Tech Adoption Score por Industria</h3>
              <p class="chart-subtitle">Promedio de disposici√≥n tecnol√≥gica</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-adoption-by-industry"></canvas>
            </div>
          </div>
        </div>
      </section>

      <!-- Tab 4: Decisiones y Datos -->
      <section id="tab-decisiones" class="tab-content">
        <div class="section-header">
          <h2 class="section-title">Decisiones y Datos</h2>
          <p class="section-description">
            Nivel de data-driven decision making
          </p>
        </div>

        <div class="charts-grid">
          <div class="chart-card span-2">
            <div class="chart-header">
              <h3 class="chart-title">Uso de Informaci√≥n Digital</h3>
              <p class="chart-subtitle">Para decisiones comerciales</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-data-usage"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Criterios de Decisi√≥n</h3>
              <p class="chart-subtitle">Experiencia vs Datos</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-decision-criteria"></canvas>
            </div>
          </div>

          <div class="chart-card span-2">
            <div class="chart-header">
              <h3 class="chart-title">Indicadores Utilizados</h3>
              <p class="chart-subtitle">KPIs que manejan actualmente</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-kpis-used"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Seguimiento de Indicadores</h3>
              <p class="chart-subtitle">M√©todo de tracking</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-kpi-tracking"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Documentaci√≥n de Procesos</h3>
              <p class="chart-subtitle">Nivel de formalizaci√≥n</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-process-documentation"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Origen de Clientes</h3>
              <p class="chart-subtitle">Canales de adquisici√≥n</p>
            </div>
            <div class="chart-container">
              <canvas id="chart-client-origin"></canvas>
            </div>
          </div>
        </div>
      </section>

      <!-- Tab 5: Oportunidades -->
      <section id="tab-oportunidades" class="tab-content">
        <div class="section-header">
          <h2 class="section-title">Oportunidades y Recomendaciones</h2>
          <p class="section-description">
            Segmentaci√≥n autom√°tica y estrategias sugeridas
          </p>
        </div>

        <!-- Segmentaci√≥n -->
        <div class="segments-grid">
          <div class="segment-card digital-leaders">
            <div class="segment-header">
              <span class="segment-icon">üèÜ</span>
              <h3 class="segment-title">Digital Leaders</h3>
            </div>
            <div class="segment-stats">
              <span class="segment-count" id="segment-leaders-count">0</span>
              <span class="segment-label">negocios</span>
            </div>
            <div class="segment-criteria">
              <span>Digital ‚â•70 + Adoption ‚â•70</span>
            </div>
            <div class="segment-action">
              <strong>Acci√≥n:</strong> Casos de estudio, optimizaci√≥n avanzada
            </div>
          </div>

          <div class="segment-card tech-ready">
            <div class="segment-header">
              <span class="segment-icon">‚ö°</span>
              <h3 class="segment-title">Tech Ready</h3>
            </div>
            <div class="segment-stats">
              <span class="segment-count" id="segment-ready-count">0</span>
              <span class="segment-label">negocios</span>
            </div>
            <div class="segment-criteria">
              <span>Digital <50 + Adoption ‚â•60</span>
            </div>
            <div class="segment-action">
              <strong>Acci√≥n:</strong> ‚≠ê Quick wins, soluciones sencillas
            </div>
          </div>

          <div class="segment-card high-risk">
            <div class="segment-header">
              <span class="segment-icon">üö®</span>
              <h3 class="segment-title">High Risk</h3>
            </div>
            <div class="segment-stats">
              <span class="segment-count" id="segment-risk-count">0</span>
              <span class="segment-label">negocios</span>
            </div>
            <div class="segment-criteria">
              <span>Risk ‚â•70</span>
            </div>
            <div class="segment-action">
              <strong>Acci√≥n:</strong> Prioridad 1 - Automatizaci√≥n urgente
            </div>
          </div>

          <div class="segment-card growth-potential">
            <div class="segment-header">
              <span class="segment-icon">üìà</span>
              <h3 class="segment-title">Growth Potential</h3>
            </div>
            <div class="segment-stats">
              <span class="segment-count" id="segment-growth-count">0</span>
              <span class="segment-label">negocios</span>
            </div>
            <div class="segment-criteria">
              <span>Scalability ‚â•70</span>
            </div>
            <div class="segment-action">
              <strong>Acci√≥n:</strong> Soluciones para expansi√≥n
            </div>
          </div>

          <div class="segment-card traditional">
            <div class="segment-header">
              <span class="segment-icon">üìö</span>
              <h3 class="segment-title">Traditional</h3>
            </div>
            <div class="segment-stats">
              <span class="segment-count" id="segment-traditional-count"
                >0</span
              >
              <span class="segment-label">negocios</span>
            </div>
            <div class="segment-criteria">
              <span>Resto</span>
            </div>
            <div class="segment-action">
              <strong>Acci√≥n:</strong> Capacitaci√≥n b√°sica, casos locales
            </div>
          </div>
        </div>

        <!-- Recomendaciones Autom√°ticas -->
        <div class="recommendations-section">
          <h3 class="recommendations-title">Recomendaciones Estrat√©gicas</h3>
          <div class="recommendations-grid" id="recommendations-container">
            <!-- Se llena din√°micamente -->
          </div>
        </div>

        <!-- Quick Wins vs Proyectos Estructurales -->
        <div class="charts-grid">
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Quick Wins Identificados</h3>
              <p class="chart-subtitle">Oportunidades de impacto r√°pido</p>
            </div>
            <div class="quick-wins-list" id="quick-wins-list">
              <!-- Se llena din√°micamente -->
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Proyectos Estructurales</h3>
              <p class="chart-subtitle">Iniciativas de largo plazo</p>
            </div>
            <div class="structural-projects-list" id="structural-projects-list">
              <!-- Se llena din√°micamente -->
            </div>
          </div>
        </div>

        <!-- Tabla Detallada de Negocios -->
        <div class="table-card">
          <div class="table-header">
            <h3 class="table-title">Detalle de Negocios con Scores</h3>
            <p class="table-subtitle">
              Vista completa para an√°lisis individual
            </p>
          </div>
          <div class="table-container" id="businesses-detail-table"></div>
        </div>
      </section>
    </main>

    <script src="app2.js"></script>
  </body>
</html>
